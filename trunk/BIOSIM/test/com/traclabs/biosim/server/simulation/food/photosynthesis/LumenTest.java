/*
 * Created on Jun 16, 2005
 *
 * TODO
 */
package com.traclabs.biosim.server.simulation.food.photosynthesis;

import junit.framework.TestCase;

/**
 * @author scott
 * 
 * TODO
 */
public class LumenTest extends TestCase {

    public void testTick() {
        Lumen newLumen = new Lumen();
        float initialWaterValue = newLumen.getWaterMolecules().getQuantity();
        float initialProtonValue = newLumen.getProtons().getQuantity();
        float initialOxygenValue = newLumen.getOxygen().getQuantity();

        newLumen.getWaterMolecules().add(100);
        newLumen.getWaterMolecules().take(2);
        assertEquals(newLumen.getWaterMolecules().getQuantity(),
                initialWaterValue, 0);
        newLumen.tick();
        assertEquals(newLumen.getWaterMolecules().getQuantity(),
                initialWaterValue + 98, 0);

        newLumen.getProtons().add(50);
        newLumen.getProtons().take(Float.MAX_VALUE);
        assertEquals(newLumen.getProtons().getQuantity(), initialProtonValue, 0);
        newLumen.tick();
        assertEquals(newLumen.getProtons().getQuantity(), initialProtonValue + 50, 0);

        assertEquals(newLumen.getWaterMolecules().getQuantity(),
                initialWaterValue + 98, 0);

        newLumen.getOxygen().add(900);
        newLumen.getOxygen().take(0);
        assertEquals(newLumen.getOxygen().getQuantity(), initialOxygenValue, 0);
        newLumen.tick();
        assertEquals(newLumen.getOxygen().getQuantity(),
                initialOxygenValue + 900, 0);

        assertEquals(newLumen.getProtons().getQuantity(), initialProtonValue + 50, 0);
    }

}
