<?xml version="1.0"?>
<biosim xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:noNamespaceSchemaLocation='../BiosimInitSchema.xsd'>
	<Globals crewsToWatch="BaseCrewGroup EVACrewGroup" runTillN="2160" runTillCrewDeath="true">
		<comment>
			The lunar mission initialization for BioSim (scenario 5)
			Has the following properties:
				- contains biomass
				- biomass has separate air and water from crew
				*other properties same as scenario 1*
				- big H2 tank
				- 1 daily EVA
				- cabin leak (very small)
				- small C02 tank
				- roughly 11.82 MJ of energy expended by each crew member
				- 2 malfunctions
		</comment>
		<author>Scott Bell</author>
		<!-- <log4jProperty name="log4j.logger.com.traclabs.biosim.server.sensor" value="DEBUG"/> !-->
	</Globals>
	<SimBioModules>
		<air>
			<AirRS name="BaseAirRS" implementation="LINEAR">
				<powerConsumer maxFlowRates="100" desiredFlowRates="100" inputs="BasePowerStore"/>
				<potableWaterConsumer maxFlowRates="1" desiredFlowRates="1" inputs="CrewBasePotableWaterStore"/>
				<airConsumer maxFlowRates="100" desiredFlowRates="100" inputs="BaseCrewEnvironment"/>
				<CO2Consumer maxFlowRates="100" desiredFlowRates="100" inputs="BaseCO2Store"/>
				<H2Consumer maxFlowRates="400" desiredFlowRates="400" inputs="BaseH2Store"/>
				<potableWaterProducer maxFlowRates="100" desiredFlowRates="100" outputs="CrewBasePotableWaterStore"/>
				<O2Producer maxFlowRates="100" desiredFlowRates="100" outputs="BaseO2Store"/>
				<airProducer maxFlowRates="100" desiredFlowRates="100" outputs="BaseCrewEnvironment"/>
				<CO2Producer maxFlowRates="100" desiredFlowRates="100" outputs="BaseCO2Store"/>
				<H2Producer maxFlowRates="100" desiredFlowRates="100" outputs="BaseH2Store"/>
			</AirRS>
			<AirRS name="EVAAirRS" implementation="LINEAR">
				<powerConsumer maxFlowRates="30" desiredFlowRates="30" inputs="EVAPowerStore"/>
				<potableWaterConsumer maxFlowRates="10" desiredFlowRates="10" inputs="EVAPotableWaterStore"/>
				<airConsumer maxFlowRates="0" desiredFlowRates="0" inputs="EVACrewEnvironment"/>
				<CO2Consumer maxFlowRates="10" desiredFlowRates="10" inputs="EVACO2Store"/>
				<H2Consumer maxFlowRates="40" desiredFlowRates="40" inputs="EVAH2Store"/>
				<potableWaterProducer maxFlowRates="100" desiredFlowRates="100" outputs="EVAPotableWaterStore"/>
				<O2Producer maxFlowRates="100" desiredFlowRates="100" outputs="EVAO2Store"/>
				<airProducer maxFlowRates="100" desiredFlowRates="100" outputs="EVACrewEnvironment"/>
				<CO2Producer maxFlowRates="100" desiredFlowRates="100" outputs="EVACO2Store"/>
				<H2Producer maxFlowRates="100" desiredFlowRates="100" outputs="EVAH2Store"/>
			</AirRS>
			<O2Store name="BaseO2Store" capacity="2000" level="502">
				<malfunction occursAtTick="200" length="PERMANENT_MALF" intensity="MEDIUM_MALF"/>
			</O2Store>
			<O2Store name="EVAO2Store" capacity="40" level="40"/>
			<CO2Store name="BaseCO2Store" capacity="0" level="0"/>
			<CO2Store name="EVACO2Store" capacity="10" level="10"/>
			<H2Store name="BaseH2Store" capacity="10000000" level="10000000"/>
			<H2Store name="EVAH2Store" capacity="10" level="10"/>
			<NitrogenStore name="BaseNitrogenStore" capacity="5000" level="4000"/>
			<NitrogenStore name="EVANitrogenStore" capacity="10" level="10"/>
		</air>
		<crew>
			<CrewGroup name="BaseCrewGroup">
				<potableWaterConsumer maxFlowRates="100" desiredFlowRates="100" inputs="CrewBasePotableWaterStore"/>
				<airConsumer maxFlowRates="0" desiredFlowRates="0" inputs="BaseCrewEnvironment"/>
				<foodConsumer maxFlowRates="100" desiredFlowRates="100" inputs="BaseFoodStore"/>
				<dirtyWaterProducer maxFlowRates="100" desiredFlowRates="100" outputs="CrewBaseDirtyWaterStore"/>
				<greyWaterProducer maxFlowRates="100" desiredFlowRates="100" outputs="CrewBaseGreyWaterStore"/>
				<airProducer maxFlowRates="0" desiredFlowRates="0" outputs="BaseCrewEnvironment"/>
				<dryWasteProducer maxFlowRates="100" desiredFlowRates="100" outputs="BaseDryWasteStore"/>
				<crewPerson name="Bob Roberts" age="35" weight="70" sex="MALE">
					<schedule>
						<activity name="sleep" length="8" intensity="1"/>
						<activity xsi:type="EVAActivityType" name="eva" length="4" intensity="3" evaCrewGroup="EVACrewGroup"/>
						<activity name="hygiene" length="1" intensity="2"/>
						<activity name="exercise" length="1" intensity="5"/>
						<activity name="eating" length="1" intensity="2"/>
						<activity name="mission" length="9" intensity="3"/>
						<activity name="health" length="1" intensity="2"/>
						<activity name="maintenance" length="1" intensity="2"/>
						<activity name="leisure" length="2" intensity="2"/>
					</schedule>
				</crewPerson>
				<crewPerson name="Stephanie Stevens" age="32" weight="71" sex="FEMALE">
					<schedule>
						<activity name="sleep" length="8" intensity="1"/>
						<activity name="hygiene" length="1" intensity="2"/>
						<activity name="exercise" length="1" intensity="5"/>
						<activity name="eating" length="1" intensity="2"/>
						<activity name="mission" length="9" intensity="3"/>
						<activity name="health" length="1" intensity="2"/>
						<activity name="maintenance" length="1" intensity="2"/>
						<activity name="leisure" length="2" intensity="2"/>
					</schedule>
				</crewPerson>
				<crewPerson name="Bill Williams" age="30" weight="72" sex="MALE">
					<schedule>
						<activity name="sleep" length="8" intensity="1"/>
						<activity name="hygiene" length="1" intensity="2"/>
						<activity name="exercise" length="1" intensity="5"/>
						<activity name="eating" length="1" intensity="2"/>
						<activity name="mission" length="9" intensity="3"/>
						<activity name="health" length="1" intensity="2"/>
						<activity name="maintenance" length="1" intensity="2"/>
						<activity name="leisure" length="2" intensity="2"/>
					</schedule>
				</crewPerson>
				<crewPerson name="Janet Janey" age="34" weight="75" sex="FEMALE">
					<schedule>
						<activity name="sleep" length="8" intensity="1"/>
						<activity name="hygiene" length="1" intensity="2"/>
						<activity name="exercise" length="1" intensity="5"/>
						<activity name="eating" length="1" intensity="2"/>
						<activity name="mission" length="9" intensity="3"/>
						<activity name="health" length="1" intensity="2"/>
						<activity name="maintenance" length="1" intensity="2"/>
						<activity name="leisure" length="2" intensity="2"/>
					</schedule>
				</crewPerson>
			</CrewGroup>
			<CrewGroup name="EVACrewGroup">
				<potableWaterConsumer maxFlowRates="100" desiredFlowRates="100" inputs="EVAPotableWaterStore"/>
				<airConsumer maxFlowRates="0" desiredFlowRates="0" inputs="EVACrewEnvironment"/>
				<foodConsumer maxFlowRates="100" desiredFlowRates="100" inputs="EVAFoodStore"/>
				<dirtyWaterProducer maxFlowRates="100" desiredFlowRates="100" outputs="EVADirtyWaterStore"/>
				<greyWaterProducer maxFlowRates="100" desiredFlowRates="100" outputs="EVAGreyWaterStore"/>
				<airProducer maxFlowRates="0" desiredFlowRates="0" outputs="EVACrewEnvironment"/>
				<dryWasteProducer maxFlowRates="100" desiredFlowRates="100" outputs="EVADryWasteStore"/>
			</CrewGroup>
		</crew>
		<environment>
			<SimEnvironment name="BaseCrewEnvironment" initialVolume="1548930" leakRate="0.00224" airlockVolume="3.7"/>
			<SimEnvironment name="BasePlantEnvironment" initialVolume="1548930" leakRate="0.00224" airlockVolume="3.7"/>
			<SimEnvironment name="EVACrewEnvironment" initialVolume="1000" leakRate="0.00500" airlockVolume="999"/>
		</environment>                    
		<food>
			<BiomassRS name="BaseBiomassRS">
				<shelf cropArea="5" cropType="WHEAT"/>
				<shelf cropArea="5" cropType="WHITE_POTATO"/>
				<shelf cropArea="5" cropType="RICE"/>
				<shelf cropArea="5" cropType="TOMATO"/>
				<shelf cropArea="5" cropType="SOYBEAN"/>
				<shelf cropArea="5" cropType="DRY_BEAN"/>
				<shelf cropArea="5" cropType="LETTUCE"/>
				<shelf cropArea="5" cropType="SWEET_POTATO"/>
				<shelf cropArea="5" cropType="PEANUT"/>
				<powerConsumer maxFlowRates="400" desiredFlowRates="400" inputs="BasePowerStore"/>
				<potableWaterConsumer maxFlowRates="100" desiredFlowRates="100" inputs="PlantBasePotableWaterStore"/>
				<greyWaterConsumer maxFlowRates="100" desiredFlowRates="100" inputs="PlantBaseGreyWaterStore"/>
				<airConsumer maxFlowRates="0" desiredFlowRates="0" inputs="BasePlantEnvironment"/>
				<dirtyWaterProducer maxFlowRates="100" desiredFlowRates="100" outputs="PlantBaseDirtyWaterStore"/>
				<biomassProducer maxFlowRates="100" desiredFlowRates="100" outputs="BaseBiomassStore"/>
				<airProducer maxFlowRates="0" desiredFlowRates="0" outputs="BasePlantEnvironment"/>
			</BiomassRS>
			<BiomassStore name="BaseBiomassStore" capacity="1000" level="300"/>
			<FoodStore name="BaseFoodStore" capacity="2000" level="2000"/>
			<FoodStore name="EVAFoodStore" capacity="0" level="0"/>
		</food>
		<framework>
			<Injector name="EVAInjector">
				<O2AirConsumer>
					<storeInputs desiredFlowRates="30" maxFlowRates="30" inputs="EVAO2Store"/>
				</O2AirConsumer>
				<O2AirProducer>
					<environmentOutputs desiredFlowRates="30" maxFlowRates="30" outputs="EVACrewEnvironment"/>
				</O2AirProducer>
			</Injector>
			<Injector name="BaseInjector">
				<O2AirConsumer>
					<storeInputs desiredFlowRates="30" maxFlowRates="30" inputs="BaseO2Store"/>
				</O2AirConsumer>
				<O2AirProducer>
					<environmentOutputs desiredFlowRates="30" maxFlowRates="30" outputs="BaseCrewEnvironment"/>
				</O2AirProducer>
			</Injector>
		</framework>
		<power>
			<PowerPS name="PowerPS" generationType="SOLAR">
				<lightConsumer maxFlowRates="0" desiredFlowRates="0" inputs="BaseCrewEnvironment"/>
				<powerProducer maxFlowRates="10000" desiredFlowRates="10000" outputs="BasePowerStore"/>
			</PowerPS>
			<PowerStore name="BasePowerStore" capacity="3000000" level="3000000"/>
			<PowerStore name="EVAPowerStore" capacity="1000" level="1000"/>
		</power>
		<water>
			<WaterRS name="CrewWaterRS" implementation="LINEAR">
				<malfunction occursAtTick="502" length="TEMPORARY_MALF" intensity="SEVERE_MALF"/>
				<powerConsumer maxFlowRates="500" desiredFlowRates="500" inputs="BasePowerStore"/>
				<dirtyWaterConsumer maxFlowRates="100" desiredFlowRates="10" inputs="CrewBaseDirtyWaterStore"/>
				<greyWaterConsumer maxFlowRates="100" desiredFlowRates="10" inputs="CrewBaseGreyWaterStore"/>
				<potableWaterProducer maxFlowRates="100" desiredFlowRates="100" outputs="CrewBasePotableWaterStore"/>
			</WaterRS>
				<WaterRS name="PlantWaterRS" implementation="LINEAR">
				<powerConsumer maxFlowRates="500" desiredFlowRates="500" inputs="BasePowerStore"/>
				<dirtyWaterConsumer maxFlowRates="100" desiredFlowRates="10" inputs="PlantBaseDirtyWaterStore"/>
				<greyWaterConsumer maxFlowRates="100" desiredFlowRates="10" inputs="PlantBaseGreyWaterStore"/>
				<potableWaterProducer maxFlowRates="100" desiredFlowRates="100" outputs="PlantBasePotableWaterStore"/>
			</WaterRS>
			<PotableWaterStore name="PlantBasePotableWaterStore" capacity="8000" level="5000"/>
			<PotableWaterStore name="CrewBasePotableWaterStore" capacity="8000" level="5000"/>
			<PotableWaterStore name="EVAPotableWaterStore" capacity="2" level="2"/>
			<GreyWaterStore name="PlantBaseGreyWaterStore" capacity="5000" level="0"/>
			<GreyWaterStore name="CrewBaseGreyWaterStore" capacity="5000" level="0"/>
			<GreyWaterStore name="EVAGreyWaterStore" capacity="1" level="0"/>
			<DirtyWaterStore name="PlantBaseDirtyWaterStore" capacity="5000" level="0"/>
			<DirtyWaterStore name="CrewBaseDirtyWaterStore" capacity="5000" level="0"/>
			<DirtyWaterStore name="EVADirtyWaterStore" capacity="1" level="0"/>
		</water>
		<waste>
			<DryWasteStore name="BaseDryWasteStore" capacity="500" level="0"/>
			<DryWasteStore name="EVADryWasteStore" capacity="2" level="0"/>
		</waste>
	</SimBioModules>
</biosim>

